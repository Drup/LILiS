OASISFormat: 0.3
Name:        LILiS
Version:     0.1
Synopsis:    Library to Interpret Lindenmayer Systems
Description: A Library to interpret, evaluate and draw L-systems.
Authors:     Gabriel Radanne <drupyog@zoho.com>
License:     MIT
Plugins:     META (0.3), DevFiles (0.3)
Homepage:    http://drup.github.io/LILiS/

Flag cairo
  Description: Enable the cairo backend for png and gtk output.
  Default: true

Flag tyxml
  Description: Enable the tyxml backend for svg output.
  Default: true

Flag glilis_ex
  Description: Build the executable glilis_ex.native.
  Default: false

Library minicalc
  Path: mini_calc
  BuildTools: ocamlbuild
  Modules:
    Mini_calc
  InternalModules:
    Calc_type, Calc_eval, Calc_lexer, Calc_parser
  BuildDepends:
    batteries

Library lilis
  Path: lilis
  BuildTools: ocamlbuild
  Modules:
    Lilis
  InternalModules:
    Ls_type, Ls_stream, Ls_utils, Ls_engine, Ls_lexer, Ls_syntax, Ls_parser
  BuildDepends:
    batteries, sequence, minicalc

Library glilis
  Path: glilis
  BuildTools: ocamlbuild
  Modules: Glilis
  BuildDepends: lilis

Library "glilis.cairo"
  Build: false
  if flag(cairo)
    Build: true
  Path: glilis
  BuildTools: ocamlbuild
  Modules: Ls_cairo
  BuildDepends: glilis, cairo2, cairo2.lablgtk2

Library "glilis.tyxml"
  Build: false
  if flag(tyxml)
    Build: true
  Path: glilis
  BuildTools: ocamlbuild
  Modules: Ls_tyxml
  BuildDepends: glilis, tyxml

Executable glilis
  Build: false
  if flag(tyxml) && flag(cairo) && flag(glilis_ex)
    Build: true
  Install: false
  Path: glilis
  BuildTools: ocamlbuild
  MainIs: glilis_ex.ml
  BuildDepends: cmdliner, tyxml, cairo2.lablgtk2, glilis, glilis.cairo, glilis.tyxml
  CompiledObject: best

# Tests

Executable bench_streams
  Path: test
  Build$: flag(tests)
  Install: false
  CompiledObject: best
  BuildTools: ocamlbuild
  MainIs: bench_streams.ml
  BuildDepends: lilis, benchmark

Executable bench_vonkoch
  Path: test
  Build$: flag(tests)
  Install: false
  CompiledObject: best
  BuildTools: ocamlbuild
  MainIs: bench_vonkoch.ml
  BuildDepends: lilis, benchmark

Executable bench_quick
  Path: test
  Build$: flag(tests)
  Install: false
  CompiledObject: best
  BuildTools: ocamlbuild
  MainIs: bench_quick.ml
  BuildDepends: lilis, benchmark

# Misc

Document doc
  Install:		false
  Title:		API reference for LILiS
  Type:			ocamlbuild (0.3)
  BuildTools:		ocamldoc, ocamlbuild
  XOCamlbuildPath:	.
  XOCamlbuildLibraries:	minicalc, lilis, glilis, glilis.cairo, glilis.tyxml

SourceRepository master
  Type: git
  Location: https://github.com/Drup/LILiS.git
  Branch: master
  Browser: https://github.com/Drup/LILiS